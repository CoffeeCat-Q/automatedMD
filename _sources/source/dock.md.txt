## Dock Quick Start

### **注意**  

* 由于Schrodinger Suite使用了闭源环境提供Python API调用, 使用 `Dock` 模块相关功能(包括CLI命令)脚本时, 应该保证您正处于由 Schrodinger 建立的虚拟环境中，并在该环境中安装包括 `pyCADD` 在内所有需要的[Python Modules](#python-modules)
* 要使用Schrodinger内部脚本创建虚拟环境, 请参阅 [如何建立Schrodinger Python Virtual Env](https://content.schrodinger.com/Docs/r2022-1/python_api/intro.html#general-python-information)
* 在Schrodinger内部环境中安装额外的python packages, 请使用`run python3 -m pip install <package>`命令或参阅[Schrodinger Python API 文档](https://www.schrodinger.com/pythonapi/)

### Docking of Many-to-One Function

`pyCADD` UI 的 `1. Dock Mode` 提供了将一个或多个配体对接于单个受体结构的功能  
运行 `pyCADD` 选择模式1并使用功能6 提供包含一个多个配体的单一 `.mae` 或 `.maegz` 的文件路径即可

### Docking of One-to-Many Function

`pyCADD` 的 `pycadd-dock ensemble-dock` 接口提供了高性能多核并行集合式对接计算及数据处理  
请确保当前工作目录 (Current Working Directory) 在您想要保存项目文件的目录中, 并在目录中额外准备：

* 一个分行列出的, 受体蛋白所属PDB ID的列表文本文件 **.txt* 或 **.csv*
* 需要对接的外源配体 **单一3D结构文件** **.pdb*  **.mae* 或其他Schrodinger支持的格式 (可选)
  
以下是一个示例 *example.txt*：  
！如果晶体包含有多个不同名称的小分子配体, 请在文件中指明 (以逗号分隔)以定义对接格点的中心

    3OAP,9CR
    5JI0,BRL
    4K6I,9RA

以及一个准备就绪的化合物库文件(其中含有若干个结构) library_file.mae

然后 您可以通过命令
    
    pycadd-dock ensemble-dock example.txt library_file.mae

启动 Ensemble Docking。

使用 

    pycadd-dock ensemble-dock --help

以获取更多帮助信息。


### 注意：

* 脚本将自动识别文本文件中每一行的PDB ID并自行批量下载  
* 应用程序默认使用系统最大核心数量的 75% 进行集合式对接工作 通过设置 `-n/--parallel <NUM>` 参数来指定使用的核心数量
* 如您需要执行晶体共结晶配体的回顾性对接(Self-Docking), 请添加参数 `--redock`
* 所有集合式对接工作完成后, 将自动提取重要的对接结果数据, 并保存在 `result` 目录下的 `_DOCK_FINAL_RESULTS.csv`字样的文件中, 且将产生汇总矩阵文件`matrix.csv`
